"use strict";function loadGeographic(){var i=countries(),r=states(""),t="<option><\/option>",n;if(i)for(n=0;n<i.length;n++)t+="<option value='"+i[n].Code+"'>"+i[n].Name+"<\/option>";if($("#country").append(t),t="<option><\/option>",r)for(n=0;n<r.length;n++)t+="<option value='"+r[n].Name+"'>"+r[n].Name+"<\/option>";$("#state").append(t)}function addError(n){var t=$("#Error").html();t==""?t=n:t+="<br/>"+n;$("#Error").html(t)}$(document).ready(function(){var t=instrumentList(),i,r,n,u;if($("#Instruments").css("display",""),i="",r=!1,t)for(n=0;n<t.length;n++)u="",t[n].Parent==0?(r&&(i+="<\/optgroup>"),i+="<optgroup value='"+t[n].InstrumentID+"' label='"+t[n].Name+"'>",r=!0):i+="<option value='"+t[n].InstrumentID+"'>"+u+t[n].Name+"<\/option>";$("#Instruments").append(i);loadGeographic();$("button[type='submit']").click(function(){var i,u,n,t,r;if($("#Error").text(""),i=$("#password").val(),u=$("#password2").val(),i.trim()==""||i!=u){i!=u?addError("The passwords do not match."):addError("Password is required.");$("#Error").css("display","inline-block");return}if(n="",$("#Instruments :selected").each(function(t,i){n+=$(i).val()+","}),n||(n=""),n.indexOf(",")>-1&&(n=n.replace(/,([^,]*)$/,"$1")),$("#Username").val().trim()==""&&addError("Username is required."),($("#FirstName").val().trim()==""||$("#LastName").val().trim()=="")&&addError("First Name and Last Name are required."),$("#Email").val().trim()==""&&addError("Email address is required."),$("#country").val()==""&&addError("Country is a required field."),($("#country").val()=="CA"||$("#country").val()=="US")&&$("#state").val()==""&&addError("State is a required field."),$("#city").val().trim()==""&&addError("City is a required field."),($("#country").val()=="CA"||$("#country").val()=="US")&&$("#postalCode").val()==""&&addError("Postal Code is a required field."),t=userExists($("#Username").val().trim(),$("#Email").val().trim()),t==1&&addError("That username is already in use."),t==2&&addError("That email address is already in use."),t==3&&addError("That username and email address are already in use."),$("#Error").text().trim()!=""){$("#Error").css({"background-color":"maroon",color:"white",display:"inline-block"});return}t==0&&$("#Error").text().trim()==""&&(r=userCreate($("#Username").val(),$("#password").val(),$("#FirstName").val(),$("#LastName").val(),$("#Email").val(),"",n,$("#country").val(),$("#state").val(),$("#city").val(),$("#postalCode").val()),r.CreationError||r.Error?r.CreationError&&($("#Error").css("display","inline-block"),$("#Error").text("There has been an error creating your account  Please try again in a few minutes.")):($("#Error").css({"background-color":"green",color:"white",display:"inline-block"}),$("#Error").text("Your account has been successfully created.  A verification email has been set to your email address. Follow the instructions to activate your account and log into GigMan."),$("button[type='submit']").css("disabled",!0)))})});
/*
//# sourceMappingURL=newaccount.min.js.map
*/