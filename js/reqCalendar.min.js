function showEvents(n){var i="<ul>",t;for(n.length<1&&(i+="No upcoming events."),t=0;t<n.length;t++)i+="<li><a class='eventListing' data-id='"+n[t].id+"'>"+formatDate(n[t].start)+"&nbsp;<b>"+n[t].title+"<\/b><\/a><\/li><br/>";i+="<\/ul>";$("#calendar").append(i)}function formatDate(n){var t=new Date(n).toString();return t.substring(0,t.indexOf(":")-2)}function formatTime(n){var i=n.split(" ")[1].split(":"),t=pad(i[0])+":"+pad(i[1]);return n.indexOf("AM")>-1&&(t+="AM"),n.indexOf("PM")>-1&&(t+="PM"),t}function mapEvents(n){for(var r,u,i=[],f=getUserID(),t=0;t<n.length;t++)r="gmEvent",u={id:n[t].CalendarID,title:n[t].Venue,allDay:!0,start:cDate(n[t].StartTime),end:cDate(n[t].EndTime),url:n[t].URL,className:r,editable:!0},i.push(u);return i}function cDate(n){return n?new Date(Date.parse(n)):null}function pad(n){return n<10&&n.length<2&&(n="0"+n),n}var art;$(document).ready(function(){var t=getiRequestName(),n;t=artistByiRequestName(t);art=JSON.parse(sessionStorage.getItem("artist"));n=calendarList(-1,art.ArtistID);dta=mapEvents(n);showEvents(dta);$(document).on("click",".eventListing",function(t){var f,i,r,e,u;for(t.preventDefault(),f=$(this).data("id"),i=null,r=0;r<n.length;r++)n[r].CalendarID==f&&(i=n[r]);i&&($("#eventTitle").text(art.ArtistName+" Event!"),e=formatDate(i.Date),$("#startTime").text(formatTime(i.StartTime)),$("#endTime").text(formatTime(i.EndTime)),$("#date").text(e),u="",i.URL.trim()!=""?(u="<a class='eventLink' href='",i.URL.indexOf("http://")<0&&(i.URL="http://"+i.URL),u+=i.URL+"' target='_blank'>"+i.Venue+"<\/a>"):u=i.Venue,$("#venue").html(u),$("#description").html(i.Description),charm=$("#eventCharm").data("charm"),charm.open())});$("#closeCharm").click(function(){charm=$("#eventCharm").data("charm");charm.element.data("opened")===!0&&charm.close()})});
/*
//# sourceMappingURL=reqCalendar.min.js.map
*/