$(document).ready(function(){var n=JSON.parse(sessionStorage.getItem("artist")),t=checkRegistry(n.UserID,"irequests",n.MaxiRequests),i,r;if(t==n.MaxiRequests)$("#message").html(n.ArtistName+" thanks you for using GigMan Request!<br/>Please note that you can make a total of "+n.MaxiRequests+" requests for this artist once in a 24 hour period."),$(".requests").hide(),$("#listData").hide();else for($("#message").html(""),$(".requests").show(),$("#listData").show(),i=1;i<=n.MaxiRequests-t;i++)$("#r"+i).show();r=songListPublic(n.ArtistID);r.length==0&&($("#otherCharm").data("charm").open(),document.getElementById("contentContainer").src="nodata.html",disableRequests=!0,$("#requestLink").css("text-decoration","none"));songList=$("#SongList").DataTable({aaData:r,orderClasses:!0,sDom:"<'toolbar'>ft",paging:!1,responsive:!0,bAutoWidth:!0,fixedHeader:!0,sScrollY:"500px",oLanguage:{sSearch:"<span class='mif-search' title='Search for a title or artist'><\/span>",searchPlaceholder:"Search Title/Artist"},columnDefs:[{orderable:!1,width:"25px",targets:0,render:function(n,t,i){return"<a class='songVoteLink songUpVoteLink' href='#' data-id='"+i.ID+"' data-artist='"+escape(encodeURI(reverseArticle(i.Artist)))+"' data-title='"+escape(encodeURI(reverseArticle(i.Title)))+"'><span class='mif-thumbs-up mif-black'><\/span><\/a>"}},{orderable:!0,width:"295px",targets:1,render:function(n,t,i){return"<a class='songLink' data-artist='"+escape(encodeURI(reverseArticle(i.Artist)))+"' data-title='"+escape(encodeURI(reverseArticle(i.Title)))+"'>"+i.Title+"<\/a>"}},{orderable:!0,width:"295px",targets:2,render:function(n,t,i){return"<a class='artistLink' data-artist='"+escape(encodeURI(reverseArticle(i.Artist)))+"'>"+i.Artist+"<\/a>"}},{orderable:!0,width:"295px",targets:3,render:function(n,t,i){return"<a class='categoryLink' data-artist='"+escape(encodeURI(reverseArticle(i.Artist)))+"'>"+i.Category+"<\/a>"}},{orderable:!1,targets:4,width:"25px",visible:n.EnableDownvotes===!0,render:function(n,t,i){return"<a class='songVoteLink songDownVoteLink' href='#' data-id='"+i.ID+"' data-artist='"+escape(encodeURI(reverseArticle(i.Artist)))+"' data-title='"+escape(encodeURI(reverseArticle(i.Title)))+"'><span class='mif-thumbs-down mif-black'><\/span><\/a>"}},]});$("div.toolbar").html('<button class="button small-button" id="submitButton"><span class="mif-checkmark"><\/span> Done!<\/button>').css({"margin-bottom":"-38px",width:"150px"});n.ShowCategories||songList.column(3).visible(!1);n.ShowArtist||songList.column(2).visible(!1);$(document).on("click","#submitButton",function(){if($("#requestMessage").text(""),$(".requestContainer").each(function(i,r){var u=$(r).find(".requestSong")[0].innerText;u.trim()!=""&&(iRequestCreate(n.ArtistID,$(this).data("id"),$(this).data("vote"),ip),t++)}),t==0){$("#requestMessage").text("You haven't selected any songs to request!");return}addRegistry(n.UserID,"irequests",t);$("#message").text("Thanks from "+n.ArtistName+" for using GigMan Request!");$(".requests").hide();$("#listData").hide()})});
/*
//# sourceMappingURL=requests.min.js.map
*/